# Diagrama de Atividades

## Introdução

Um diagrama de atividade representa fluxos de controle (ou de objetos) dentro de uma aplicação. O presente diagrama visa documentar o fluxo de avaliação de produtos realizado no site [RiHappy](https://rihappy.com.br).

Um diagrama de atividades é composto pelos seguintes elementos:

- Atividade
- Partição
- Ação
- Objeto
- Controle
- Borda de Atividade

## Metodologia

Para a elaboração do diagrama, a equipe de trabalho, composta pelos estudantes Davi Lima, Davi Matias e Nicolas, dividiu as atividades da seguinte maneira:

1. Estudo individual sobre o assunto: Cada estudante fez um estudo sobre o diagrama UML de atividades, para se familiarizar com as particularidades da notação. Durante o período de estudo, foram registrados na [issue do GitHub (#38)](https://github.com/UnBArqDsw2023-1/2023.1_G5_ProjetoRiHappy/issues/38) os materiais utilizados durante a consulta, para posteriormente serem inseridos nas [referências](#referências).
2. Após os estudos, cada membro elaborou um esboço do diagrama, e registrou suas conclusões e/ou esboço na [issue do GitHub (#38)](https://github.com/UnBArqDsw2023-1/2023.1_G5_ProjetoRiHappy/issues/38).
3. Após a elaboração dos esboços, os três estudantes se reuniram durante o período da aula de dúvidas para sintetizar os elementos presentes nos esboços em uma versão final do diagrama.

A [ferramenta](1.Base/1.2.3.FerramentasUtilizadas.md) utilizada para a elaboração dos diagramas foi o [LucidChart](https://www.lucidchart.com/).

## Elaboração do Diagrama

Na primeira etapa do projeto, foi realizada uma [análise do problema](1.Base/1.1.AbordagemNaoEspecifica.md), durante a qual foi possível elencar alguns elementos que devem estar presentes no fluxo de avaliação de produtos, por meio da produção e análise dos artefatos [RichPicture](1.Base/1.1.2.RichPicture.md) e [Diagrama Causa-Efeito](1.Base/1.1.1.CausaEfeito.md).

De acordo com as conclusões provenientes do Diagrama Causa-Efeito [5], a aplicação deve:

- Permitir a ordenação de avaliações;
- Incluir avaliações de especialistas;
- Apresentar estatísticas;
- Encorajar avaliações de usuários.

Além disso, foram identificados as seguintes atividades no RichPicture[6]:

- Usuário seleciona brinquedo (produto);
- Usuário acessa área de avaliação do produto;
- Usuário incia a avaliação, inserindo:
  - Quantidade de estrelas para a nota;
  - Se recomenda ou não o produto;
  - Zero ou 1 comentário sobre o produto;
  - Zero ou mais fotos;
  - Dados pessoais (email e nome);
- Usuário envia a avaliação;
- Análise da RiHappy avaliação a avaliação.

Além disso, durante a elaboração do RichPicture, a equipe de trabalho identificou que o sistema atual não fornece um _feedback_ ao usuário sobre a avaliação enviada, portando, a equipe de trabalho propõe a inserção das seguintes atividades no fluxo, para suprir essa necessidade:

- O sistema envia um email para o usuário confirmando o recebimento da avaliação.
- O sistema envia um email para o usuário indicando se a avaliação foi publicada ou não, após a avaliação.
  - Caso não seja publicada, o email deve conter uma justificativa para a não publicação.

A partir dos elementos supracitados, foram definidos dois fluxos principais de atividade a serem modelados na notação UML do diagrama de Atividades:

- [Avaliação de Produto](#avaliação-de-produto)
- [Visualização de Avaliações](#visualização-de-avaliações)

### Avaliação de Produto

O usuário inicia essa atividade ao clicar em um botão "Avaliar Produto", em seguida:

1. Ele insere seus dados pessoais (email e nome **OU** efetua login)
2. Ele insere na avaliação (atividades paralelas):
    - Texto (obrigatório);
    - Modelo do produto (obrigatório?) [Ex: cor];
    - Fotos (0...n);
    - Data de Compra (0..1);
3. Ele envia a avaliação
4. Um email confirmando o recebimento da avaliação é enviado para o email do usuário
5. A avaliação é revisada pela administração do sistema
6. Um email confirmando se avaliação foi aprovada ou não (e o motivo) é enviado para o usuário

Nessa atividade vejo três raias no diagrama ("usuário", "administrador do sistema" e "sistema").

### Visualização de Avaliações

O usuário inicia essa atividade ao navegar até a seção de avaliações na página do produto, em seguida:

1. O usuário pode filtrar as avaliações:
    - Inserindo no filtro os campos opcionais: Contém Fotos?, Modelo do Produto e Data de Compra.
2. O usuário pode classificar as avaliações:
    - Para cada avaliação ele pode classificar como "relevante" ou "irrelevante".

### Versões do Diagrama de Atividades

<center>

![](./assets/2.4.1.DiagramaDeAtividades/2727.png)
Figura 1. Diagrama de Atividades: Avaliação de produto, versão 1. (Fonte: elaborado pelo Davi Silva, 2023).
</center>

<center>

![](./assets/2.4.1.DiagramaDeAtividades/2837.png)
Figura 2. Diagrama de Atividades: Avaliação de produto, versão 2. (Fonte: elaborado pelo Davi Silva, 2023)
</center>

## Conclusão

## Referências

[1] <https://www.uml-diagrams.org/activity-diagrams.html> <br/>
[2] Material da aula (slides sobre modelagem dinâmica) <br/>
[3] <https://www.ibm.com/docs/pt-br/rational-soft-arch/9.7.0?topic=diagrams-activity> <br/>
[4] LucidChart, disponível no [link](https://www.lucidchart.com/pages/).
[5] Diagrama Causa-Efeito
[6] RichPicture

## Histórico de versão

| Versão | Data       | Descrição  | Autor(es)                 | Revisor(es)          |
|--------|------------|------------|---------------------------|----------------------|
| `1.0`  | 10/05/2023 | Criação das pastas e arquivos da 2° entrega | Lucas Felipe | Nicolas Souza |
| `1.1`  | 11/05/2023 | Início da Introdução, inclusão da Metodologia e início da seção Elaboração do Diagrama | Nicolas Souza |
